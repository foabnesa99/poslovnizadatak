2022-04-20 09:00:07.840  INFO 7103 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 7103 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 09:00:07.841  INFO 7103 --- [main] c.e.demo.TehnickiZadatakApplication      : No active profile set, falling back to default profiles: default
2022-04-20 09:00:08.313  INFO 7103 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 09:00:08.347  INFO 7103 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 09:00:08.679  INFO 7103 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 09:00:08.683  INFO 7103 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 09:00:08.683  INFO 7103 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 09:00:08.714  INFO 7103 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 09:00:08.714  INFO 7103 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 842 ms
2022-04-20 09:00:08.739  INFO 7103 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 09:00:08.788  INFO 7103 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 09:00:08.793  INFO 7103 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 09:00:08.867  INFO 7103 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 09:00:08.888  INFO 7103 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 09:00:08.951  INFO 7103 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 09:00:08.995  INFO 7103 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 09:00:09.370  INFO 7103 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 09:00:09.374  INFO 7103 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 09:00:09.798  WARN 7103 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 09:00:10.360  INFO 7103 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 09:00:10.872  INFO 7103 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.303 seconds (JVM running for 3.658)
2022-04-20 09:05:22.037  INFO 7103 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 09:05:22.038  INFO 7103 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 09:05:22.040  INFO 7103 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:19:10.131  INFO 17093 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17093 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:19:10.133  INFO 17093 --- [main] c.e.demo.TehnickiZadatakApplication      : No active profile set, falling back to default profiles: default
2022-04-20 10:19:10.594  INFO 17093 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:19:10.631  INFO 17093 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
2022-04-20 10:19:10.984  INFO 17093 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 10:19:10.989  INFO 17093 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 10:19:10.989  INFO 17093 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 10:19:11.029  INFO 17093 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 10:19:11.029  INFO 17093 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 867 ms
2022-04-20 10:19:11.060  INFO 17093 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:19:11.113  INFO 17093 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:19:11.119  INFO 17093 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:19:11.206  INFO 17093 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:19:11.225  INFO 17093 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:19:11.280  INFO 17093 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:19:11.328  INFO 17093 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:19:11.689  INFO 17093 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:19:11.692  INFO 17093 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:19:12.123  WARN 17093 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:19:12.600  INFO 17093 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 10:19:13.066  INFO 17093 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.131 seconds (JVM running for 3.493)
2022-04-20 10:20:09.698  INFO 17093 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 10:20:09.699  INFO 17093 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 10:20:09.700  INFO 17093 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 10:20:09.732  INFO 17093 --- [http-nio-8080-exec-1] c.e.demo.service.imp.UserServiceImp      : Saving the user to the database...
2022-04-20 10:20:34.135  INFO 17093 --- [http-nio-8080-exec-3] c.e.demo.service.imp.UserServiceImp      : Retrieving a list of all users...
2022-04-20 10:20:55.382  INFO 17093 --- [http-nio-8080-exec-4] c.e.demo.service.imp.UserServiceImp      : Retrieving a user with the requested id 1
2022-04-20 10:21:14.459  INFO 17093 --- [http-nio-8080-exec-5] c.e.demo.service.imp.UserServiceImp      : Retrieving a user with the requested id 1
2022-04-20 10:21:14.461  INFO 17093 --- [http-nio-8080-exec-5] c.e.demo.service.imp.UserServiceImp      : Removing the user from the database...
2022-04-20 10:23:37.501  INFO 17093 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:23:37.502  INFO 17093 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:23:37.504  INFO 17093 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:23:39.985  INFO 17577 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17577 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:23:39.986  INFO 17577 --- [main] c.e.demo.TehnickiZadatakApplication      : No active profile set, falling back to default profiles: default
2022-04-20 10:23:40.060  WARN 17577 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
2022-04-20 10:23:40.142 ERROR 17577 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]
	at com.example.demo.TehnickiZadatakApplication.main(TehnickiZadatakApplication.java:15) ~[classes/:na]
Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.3.jar:2.6.3]
	... 8 common frames omitted

2022-04-20 10:26:52.029  INFO 18086 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18086 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:26:52.031  INFO 18086 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 10:26:52.494  INFO 18086 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:26:52.524  INFO 18086 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
2022-04-20 10:26:52.828  INFO 18086 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 10:26:52.831  INFO 18086 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 10:26:52.831  INFO 18086 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 10:26:52.859  INFO 18086 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 10:26:52.859  INFO 18086 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 799 ms
2022-04-20 10:26:52.882  INFO 18086 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:26:52.923  INFO 18086 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:26:52.928  INFO 18086 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:26:53.000  INFO 18086 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:26:53.015  INFO 18086 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:26:53.066  INFO 18086 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:26:53.109  INFO 18086 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:26:53.435  INFO 18086 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:26:53.438  INFO 18086 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:26:53.830  WARN 18086 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:26:54.301  INFO 18086 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 10:26:54.756  INFO 18086 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 2.919 seconds (JVM running for 3.227)
2022-04-20 10:30:38.058  INFO 18086 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:30:38.059  INFO 18086 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:30:38.060  INFO 18086 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:30:39.969  INFO 18533 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18533 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:30:39.971  INFO 18533 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 10:30:40.549  INFO 18533 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:30:40.588  INFO 18533 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
2022-04-20 10:30:40.969  INFO 18533 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 10:30:40.974  INFO 18533 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 10:30:40.974  INFO 18533 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 10:30:41.008  INFO 18533 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 10:30:41.008  INFO 18533 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 999 ms
2022-04-20 10:30:41.037  INFO 18533 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:30:41.089  INFO 18533 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:30:41.094  INFO 18533 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:30:41.179  INFO 18533 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:30:41.205  INFO 18533 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:30:41.258  INFO 18533 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:30:41.307  INFO 18533 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:30:41.712  INFO 18533 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:30:41.715  INFO 18533 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:30:42.195  WARN 18533 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:30:42.777  INFO 18533 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 10:30:43.360  INFO 18533 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.638 seconds (JVM running for 4.047)
2022-04-20 10:30:49.398  INFO 18533 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:30:49.399  INFO 18533 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:30:49.411  INFO 18533 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:31:05.572  INFO 18665 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18665 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:31:05.574  INFO 18665 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 10:31:06.155  INFO 18665 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:31:06.191  INFO 18665 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 7 JPA repository interfaces.
2022-04-20 10:31:06.560  INFO 18665 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 10:31:06.565  INFO 18665 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 10:31:06.565  INFO 18665 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 10:31:06.599  INFO 18665 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 10:31:06.599  INFO 18665 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 988 ms
2022-04-20 10:31:06.629  INFO 18665 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:31:06.682  INFO 18665 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:31:06.690  INFO 18665 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:31:06.775  INFO 18665 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:31:06.796  INFO 18665 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:31:06.849  INFO 18665 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:31:06.893  INFO 18665 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:31:07.297  INFO 18665 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:31:07.303  INFO 18665 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:31:07.826  WARN 18665 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:31:08.431  INFO 18665 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 10:31:08.997  INFO 18665 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.656 seconds (JVM running for 4.01)
2022-04-20 10:31:37.621  INFO 18817 --- [main] c.e.d.controller.ChannelControllerTest   : Starting ChannelControllerTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18817 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:31:37.622  INFO 18817 --- [main] c.e.d.controller.ChannelControllerTest   : The following profiles are active: prod
2022-04-20 10:31:39.070  INFO 18817 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2022-04-20 10:31:39.070  INFO 18817 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-04-20 10:31:39.071  INFO 18817 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2022-04-20 10:31:39.285  INFO 18817 --- [main] c.e.d.controller.ChannelControllerTest   : Started ChannelControllerTest in 1.89 seconds (JVM running for 2.574)
2022-04-20 10:32:01.918  INFO 18904 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18904 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:32:01.919  INFO 18904 --- [main] .i.ChannelPlaylistServiceIntegrationTest : The following profiles are active: prod
2022-04-20 10:32:02.533  INFO 18904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:32:02.576  INFO 18904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2022-04-20 10:32:02.984  INFO 18904 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:32:03.010  INFO 18904 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:32:03.112  INFO 18904 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:32:03.194  INFO 18904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:32:03.294  INFO 18904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:32:03.303  INFO 18904 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:32:03.838  INFO 18904 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:32:03.842  INFO 18904 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:32:04.512  WARN 18904 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:32:04.724  INFO 18904 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:32:06.226  INFO 18904 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.482 seconds (JVM running for 5.16)
2022-04-20 10:32:06.371  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:32:06.371  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:32:06.382  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.455  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.455  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:32:06.455  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:32:06.456  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.461  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.461  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:32:06.461  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:32:06.462  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.465  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.465  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:32:06.466  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:32:06.467  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.470  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.471  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:32:06.471  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:32:06.472  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.477  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.487  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Removing a playlist with the id 2 from channel 1...
2022-04-20 10:32:06.488  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:32:06.489  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.517  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 removed!
2022-04-20 10:32:06.588  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:32:06.589  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:32:06.590  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.598  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.598  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:32:06.598  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:32:06.599  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.606  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.606  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:32:06.606  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:32:06.607  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.614  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.614  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:32:06.614  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:32:06.615  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.620  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.620  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:32:06.620  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:32:06.622  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.629  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:06.630  INFO 18904 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:32:06.630  INFO 18904 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:06.631  INFO 18904 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:32:06.654  INFO 18904 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:32:06.656  INFO 18904 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:32:06.659  INFO 18904 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:32:37.115  INFO 19005 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19005 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:32:37.116  INFO 19005 --- [main] .i.ChannelPlaylistServiceIntegrationTest : No active profile set, falling back to default profiles: default
2022-04-20 10:32:37.727  INFO 19005 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:32:37.775  INFO 19005 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2022-04-20 10:32:38.297  INFO 19005 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:32:38.331  INFO 19005 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:32:38.427  INFO 19005 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:32:38.494  INFO 19005 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:32:38.605  INFO 19005 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:32:38.613  INFO 19005 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:32:39.150  INFO 19005 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:32:39.154  INFO 19005 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:32:39.761  WARN 19005 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:32:39.948  INFO 19005 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:32:41.203  INFO 19005 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.308 seconds (JVM running for 5.041)
2022-04-20 10:32:41.350  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:32:41.350  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:32:41.363  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.432  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.432  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:32:41.432  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:32:41.434  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.441  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.441  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:32:41.441  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:32:41.442  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.449  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.450  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:32:41.450  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:32:41.452  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.459  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.459  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:32:41.459  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:32:41.461  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.468  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.480  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Removing a playlist with the id 2 from channel 1...
2022-04-20 10:32:41.480  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:32:41.482  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.520  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 removed!
2022-04-20 10:32:41.600  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:32:41.600  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:32:41.601  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.608  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.608  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:32:41.608  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:32:41.609  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.616  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.616  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:32:41.616  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:32:41.617  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.623  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.623  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:32:41.623  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:32:41.624  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.630  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.630  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:32:41.630  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:32:41.631  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.635  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:32:41.635  INFO 19005 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:32:41.636  INFO 19005 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:32:41.637  INFO 19005 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:32:41.662  INFO 19005 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:32:41.664  INFO 19005 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:32:41.666  INFO 19005 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:35:32.976  INFO 19214 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19214 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:35:32.976  INFO 19214 --- [main] .i.ChannelPlaylistServiceIntegrationTest : The following profiles are active: test
2022-04-20 10:35:33.656  INFO 19214 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:35:33.704  INFO 19214 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 7 JPA repository interfaces.
2022-04-20 10:35:34.236  INFO 19214 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:35:34.274  INFO 19214 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:35:34.383  INFO 19214 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:35:34.466  INFO 19214 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:35:34.565  INFO 19214 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:35:34.574  INFO 19214 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:35:35.043  INFO 19214 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:35:35.048  INFO 19214 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:35:35.708  WARN 19214 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:35:35.904  INFO 19214 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:35:37.160  INFO 19214 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.406 seconds (JVM running for 5.101)
2022-04-20 10:35:37.320  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:35:37.321  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:35:37.332  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.415  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.415  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:35:37.415  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:35:37.417  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.425  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.425  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:35:37.425  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:35:37.427  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.434  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.434  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:35:37.434  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:35:37.436  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.444  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.444  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:35:37.444  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:35:37.445  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.453  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.469  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Removing a playlist with the id 2 from channel 1...
2022-04-20 10:35:37.469  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:35:37.471  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.518  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 removed!
2022-04-20 10:35:37.623  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:35:37.623  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:35:37.624  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.631  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.632  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:35:37.632  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:35:37.634  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.643  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.643  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:35:37.643  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:35:37.644  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.652  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.652  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:35:37.652  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:35:37.654  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.661  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.661  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:35:37.661  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:35:37.663  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.669  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:35:37.670  INFO 19214 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:35:37.670  INFO 19214 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:35:37.671  INFO 19214 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:35:37.697  INFO 19214 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:35:37.699  INFO 19214 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:35:37.701  INFO 19214 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:36:48.132  INFO 19329 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19329 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:36:48.133  INFO 19329 --- [main] .i.ChannelPlaylistServiceIntegrationTest : The following profiles are active: test
2022-04-20 10:36:48.747  INFO 19329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:36:48.787  INFO 19329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 7 JPA repository interfaces.
2022-04-20 10:36:49.182  INFO 19329 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:36:49.224  INFO 19329 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:36:49.328  INFO 19329 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:36:49.394  INFO 19329 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:36:49.497  INFO 19329 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:36:49.507  INFO 19329 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:36:49.976  INFO 19329 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:36:49.980  INFO 19329 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:36:50.576  WARN 19329 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:36:50.768  INFO 19329 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:36:52.127  INFO 19329 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.175 seconds (JVM running for 4.864)
2022-04-20 10:36:52.333  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:36:52.333  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:36:52.351  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.442  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.442  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:36:52.442  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:36:52.444  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.452  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.452  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:36:52.452  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:36:52.454  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.461  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.461  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:36:52.461  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:36:52.463  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.470  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.470  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:36:52.470  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:36:52.472  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.480  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.497  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Removing a playlist with the id 2 from channel 1...
2022-04-20 10:36:52.497  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:36:52.499  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.547  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 removed!
2022-04-20 10:36:52.628  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:36:52.628  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:36:52.630  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.637  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.637  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:36:52.637  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:36:52.639  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.647  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.647  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:36:52.647  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:36:52.648  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.653  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.653  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:36:52.653  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:36:52.654  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.658  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.659  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:36:52.659  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:36:52.660  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.667  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:36:52.667  INFO 19329 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:36:52.667  INFO 19329 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:36:52.668  INFO 19329 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:36:52.693  INFO 19329 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:36:52.694  INFO 19329 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:36:52.696  INFO 19329 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:38:12.184  INFO 19466 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19466 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:38:12.185  INFO 19466 --- [main] .i.ChannelPlaylistServiceIntegrationTest : The following profiles are active: test
2022-04-20 10:38:12.911  INFO 19466 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:38:12.966  INFO 19466 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2022-04-20 10:38:13.702  INFO 19466 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:38:13.744  INFO 19466 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:38:13.860  INFO 19466 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:38:13.960  INFO 19466 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:38:14.082  INFO 19466 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:38:14.092  INFO 19466 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:38:14.646  INFO 19466 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:38:14.651  INFO 19466 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:38:15.454  WARN 19466 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:38:15.686  INFO 19466 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:38:17.181  INFO 19466 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 5.233 seconds (JVM running for 6.41)
2022-04-20 10:38:17.346  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:38:17.347  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:38:17.361  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.442  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.442  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:38:17.443  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:38:17.444  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.451  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.451  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:38:17.451  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:38:17.452  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.457  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.457  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:38:17.457  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:38:17.459  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.466  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.466  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:38:17.466  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:38:17.467  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.473  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.487  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Removing a playlist with the id 2 from channel 1...
2022-04-20 10:38:17.487  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:38:17.488  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.527  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 removed!
2022-04-20 10:38:17.620  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:38:17.620  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:38:17.622  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.630  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.630  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:38:17.631  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:38:17.632  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.641  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.641  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:38:17.641  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:38:17.643  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.651  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.652  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:38:17.652  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:38:17.654  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.661  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.661  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:38:17.661  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:38:17.663  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:38:17.672  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:38:17.673  INFO 19466 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:38:48.717  INFO 19466 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:39:05.053  INFO 19466 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:39:36.507  WARN 19466 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s950ms320s603ns).
2022-04-20 10:40:09.276  INFO 19466 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:40:09.278  INFO 19466 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:40:09.279  INFO 19466 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:41:05.916  INFO 19827 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19827 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:41:05.917  INFO 19827 --- [main] .i.ChannelPlaylistServiceIntegrationTest : No active profile set, falling back to default profiles: default
2022-04-20 10:41:06.541  INFO 19827 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:41:06.584  INFO 19827 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2022-04-20 10:41:07.089  INFO 19827 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:41:07.117  INFO 19827 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:41:07.206  INFO 19827 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:41:07.293  INFO 19827 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:41:07.407  INFO 19827 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:41:07.415  INFO 19827 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:41:08.007  INFO 19827 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:41:08.013  INFO 19827 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:41:08.641  WARN 19827 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:41:08.849  INFO 19827 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:41:10.193  INFO 19827 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.444 seconds (JVM running for 5.237)
2022-04-20 10:41:10.350  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:41:10.351  INFO 19827 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:41:10.365  INFO 19827 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:10.437  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:10.437  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:41:10.437  INFO 19827 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:41:10.439  INFO 19827 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:10.447  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:10.447  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:41:10.447  INFO 19827 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:41:10.449  INFO 19827 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:10.455  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:10.456  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:41:10.456  INFO 19827 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:41:10.457  INFO 19827 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:10.465  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:10.465  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:41:10.465  INFO 19827 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:41:10.467  INFO 19827 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:10.475  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:10.478  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 2 in channel 1 to a new position - 3
2022-04-20 10:41:10.478  INFO 19827 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:10.480  INFO 19827 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:41:10.532  INFO 19827 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 order number updated
2022-04-20 10:41:10.632  INFO 19827 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:41:10.634  INFO 19827 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:41:10.638  INFO 19827 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:41:53.831  INFO 19924 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19924 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:41:53.832  INFO 19924 --- [main] .i.ChannelPlaylistServiceIntegrationTest : No active profile set, falling back to default profiles: default
2022-04-20 10:41:54.414  INFO 19924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:41:54.461  INFO 19924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 7 JPA repository interfaces.
2022-04-20 10:41:54.926  INFO 19924 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:41:54.958  INFO 19924 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:41:55.043  INFO 19924 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:41:55.145  INFO 19924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:41:55.255  INFO 19924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:41:55.264  INFO 19924 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:41:55.841  INFO 19924 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:41:55.846  INFO 19924 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:41:56.579  WARN 19924 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:41:56.794  INFO 19924 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:41:58.123  INFO 19924 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.479 seconds (JVM running for 5.159)
2022-04-20 10:41:58.286  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:41:58.287  INFO 19924 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:41:58.299  INFO 19924 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:58.376  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:58.376  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:41:58.376  INFO 19924 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:41:58.377  INFO 19924 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:58.384  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:58.384  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:41:58.384  INFO 19924 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:41:58.386  INFO 19924 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:58.391  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:58.391  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:41:58.391  INFO 19924 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:41:58.393  INFO 19924 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:58.399  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:58.399  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:41:58.399  INFO 19924 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:41:58.400  INFO 19924 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:58.407  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:41:58.408  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:41:58.408  INFO 19924 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:41:58.410  INFO 19924 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:41:58.446  INFO 19924 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 1 order number updated
2022-04-20 10:41:58.506  INFO 19924 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:41:58.508  INFO 19924 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:41:58.510  INFO 19924 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:42:25.514  INFO 20023 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20023 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:42:25.515  INFO 20023 --- [main] .i.ChannelPlaylistServiceIntegrationTest : No active profile set, falling back to default profiles: default
2022-04-20 10:42:26.177  INFO 20023 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:42:26.215  INFO 20023 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 7 JPA repository interfaces.
2022-04-20 10:42:26.626  INFO 20023 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:42:26.659  INFO 20023 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:42:26.743  INFO 20023 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:42:26.838  INFO 20023 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:42:26.946  INFO 20023 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:42:26.957  INFO 20023 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:42:27.551  INFO 20023 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:42:27.556  INFO 20023 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:42:28.303  WARN 20023 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:42:28.527  INFO 20023 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:42:29.860  INFO 20023 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.565 seconds (JVM running for 5.315)
2022-04-20 10:42:29.994  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:42:29.994  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:42:30.015  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.078  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.078  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:42:30.079  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:42:30.080  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.087  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.087  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:42:30.087  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:42:30.089  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.095  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.095  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:42:30.095  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:42:30.097  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.103  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.103  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:42:30.104  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:42:30.105  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.112  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.125  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Removing a playlist with the id 2 from channel 1...
2022-04-20 10:42:30.125  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:42:30.126  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.168  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 2 removed!
2022-04-20 10:42:30.243  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:42:30.244  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:42:30.244  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.249  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.250  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:42:30.250  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:42:30.251  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.256  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.256  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:42:30.257  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:42:30.257  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.262  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.263  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:42:30.263  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:42:30.264  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.269  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.269  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:42:30.269  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:42:30.270  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.276  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:30.276  INFO 20023 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:42:30.277  INFO 20023 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:30.278  INFO 20023 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:42:30.301  INFO 20023 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:42:30.303  INFO 20023 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:42:30.304  INFO 20023 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:42:35.505  INFO 20097 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Starting ChannelPlaylistServiceIntegrationTest using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20097 (started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:42:35.506  INFO 20097 --- [main] .i.ChannelPlaylistServiceIntegrationTest : No active profile set, falling back to default profiles: default
2022-04-20 10:42:36.157  INFO 20097 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:42:36.200  INFO 20097 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
2022-04-20 10:42:36.611  INFO 20097 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:42:36.635  INFO 20097 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:42:36.715  INFO 20097 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:42:36.799  INFO 20097 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:42:36.899  INFO 20097 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:42:36.908  INFO 20097 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:42:37.373  INFO 20097 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:42:37.377  INFO 20097 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:42:38.015  WARN 20097 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:42:38.208  INFO 20097 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:42:39.478  INFO 20097 --- [main] .i.ChannelPlaylistServiceIntegrationTest : Started ChannelPlaylistServiceIntegrationTest in 4.144 seconds (JVM running for 4.804)
2022-04-20 10:42:39.716  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 1 to the channel...
2022-04-20 10:42:39.716  INFO 20097 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:42:39.737  INFO 20097 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:39.853  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:39.853  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 2 to the channel...
2022-04-20 10:42:39.853  INFO 20097 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 2
2022-04-20 10:42:39.855  INFO 20097 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:39.865  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:39.865  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 3 to the channel...
2022-04-20 10:42:39.865  INFO 20097 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 3
2022-04-20 10:42:39.867  INFO 20097 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:39.876  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:39.876  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 4 to the channel...
2022-04-20 10:42:39.876  INFO 20097 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 4
2022-04-20 10:42:39.878  INFO 20097 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:39.889  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:39.889  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Adding a playlist with the ID 5 to the channel...
2022-04-20 10:42:39.889  INFO 20097 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 5
2022-04-20 10:42:39.891  INFO 20097 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:39.903  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist added to the channel!
2022-04-20 10:42:39.905  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Moving the playlist 1 in channel 1 to a new position - 3
2022-04-20 10:42:39.906  INFO 20097 --- [main] c.e.demo.service.imp.ChannelServiceImp   : Retrieving a channel with the requested id 1
2022-04-20 10:42:39.908  INFO 20097 --- [main] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a playlist with the requested id 1
2022-04-20 10:42:39.969  INFO 20097 --- [main] c.e.d.s.imp.ChannelPlaylistServiceImpl   : Playlist 1 order number updated
2022-04-20 10:42:40.068  INFO 20097 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:42:40.071  INFO 20097 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:42:40.074  INFO 20097 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:43:04.782  INFO 18665 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:43:04.783  INFO 18665 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:43:04.786  INFO 18665 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 10:43:06.738  INFO 20202 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20202 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 10:43:06.740  INFO 20202 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 10:43:07.230  INFO 20202 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 10:43:07.263  INFO 20202 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 10:43:07.582  INFO 20202 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 10:43:07.585  INFO 20202 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 10:43:07.586  INFO 20202 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 10:43:07.613  INFO 20202 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 10:43:07.614  INFO 20202 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 845 ms
2022-04-20 10:43:07.637  INFO 20202 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 10:43:07.681  INFO 20202 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 10:43:07.686  INFO 20202 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 10:43:07.754  INFO 20202 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 10:43:07.769  INFO 20202 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 10:43:07.817  INFO 20202 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 10:43:07.861  INFO 20202 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 10:43:08.192  INFO 20202 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 10:43:08.195  INFO 20202 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:43:08.598  WARN 20202 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 10:43:09.100  INFO 20202 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 10:43:09.667  INFO 20202 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.286 seconds (JVM running for 3.719)
2022-04-20 10:43:20.404  INFO 20202 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 10:43:20.404  INFO 20202 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 10:43:20.405  INFO 20202 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 10:44:27.030  INFO 20202 --- [http-nio-8080-exec-5] c.e.demo.service.imp.CategoryServiceImp  : Saving the category to the database...
2022-04-20 10:44:38.764  INFO 20202 --- [http-nio-8080-exec-6] c.e.demo.service.imp.CategoryServiceImp  : Retrieving a list of all categories...
2022-04-20 10:45:32.738  WARN 20202 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-04-20 10:45:38.461  WARN 20202 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('"' (code 34)): was expecting comma to separate Object entries; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('"' (code 34)): was expecting comma to separate Object entries<EOL> at [Source: (PushbackInputStream); line: 3, column: 10]]
2022-04-20 10:46:06.863  INFO 20202 --- [http-nio-8080-exec-10] c.e.demo.service.imp.VideoServiceImp     : Saving the video to the database...
2022-04-20 10:46:13.895  INFO 20202 --- [http-nio-8080-exec-2] c.e.demo.service.imp.VideoServiceImp     : Retrieving a list of all videos...
2022-04-20 10:47:28.826  INFO 20202 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 10:47:28.827  INFO 20202 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 10:47:28.828  INFO 20202 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:07:33.302  INFO 14063 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 14063 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:07:33.303  INFO 14063 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:07:33.800  INFO 14063 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:07:33.839  INFO 14063 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
2022-04-20 14:07:34.248  INFO 14063 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:07:34.253  INFO 14063 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:07:34.253  INFO 14063 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:07:34.287  INFO 14063 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:07:34.288  INFO 14063 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 946 ms
2022-04-20 14:07:34.315  INFO 14063 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:07:34.373  INFO 14063 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:07:34.379  INFO 14063 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:07:34.466  INFO 14063 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:07:34.487  INFO 14063 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:07:34.546  INFO 14063 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:07:34.589  INFO 14063 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:07:34.949  INFO 14063 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:07:34.952  INFO 14063 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:07:35.226  WARN 14063 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes/com/example/demo/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2022-04-20 14:07:35.227  INFO 14063 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:07:35.228  INFO 14063 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:07:35.230  INFO 14063 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:07:35.231  INFO 14063 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-04-20 14:07:35.238  INFO 14063 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-20 14:07:35.248 ERROR 14063 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.example.demo.security.SecurityConfig required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' in your configuration.

2022-04-20 14:49:28.238  INFO 16280 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 16280 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:49:28.240  INFO 16280 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:49:28.766  INFO 16280 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:49:28.798  INFO 16280 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
2022-04-20 14:49:29.138  INFO 16280 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:49:29.142  INFO 16280 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:49:29.142  INFO 16280 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:49:29.172  INFO 16280 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:49:29.172  INFO 16280 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 892 ms
2022-04-20 14:49:29.198  INFO 16280 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:49:29.248  INFO 16280 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:49:29.254  INFO 16280 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:49:29.342  INFO 16280 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:49:29.360  INFO 16280 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:49:29.406  INFO 16280 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:49:29.452  INFO 16280 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:49:29.817  INFO 16280 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:49:29.820  INFO 16280 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:49:30.148  WARN 16280 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:49:30.578  INFO 16280 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0e5c0c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ac0cb64, org.springframework.security.web.header.HeaderWriterFilter@5ce03a9d, org.springframework.security.web.authentication.logout.LogoutFilter@41962299, com.example.demo.jwt.CustomAuthFilter@5bb45afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@640028f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c040c8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f0b5d79, org.springframework.security.web.session.SessionManagementFilter@3f7f9d3f, org.springframework.security.web.access.ExceptionTranslationFilter@46f597f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23a78d2e]
2022-04-20 14:49:30.906  INFO 16280 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:49:31.421  INFO 16280 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.439 seconds (JVM running for 3.774)
2022-04-20 14:49:59.126  INFO 16280 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 14:49:59.126  INFO 16280 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 14:49:59.127  INFO 16280 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 14:50:51.473  INFO 16280 --- [http-nio-8080-exec-4] c.e.demo.service.imp.VideoServiceImp     : Retrieving a list of all videos...
2022-04-20 14:51:45.271  WARN 16280 --- [http-nio-8080-exec-7] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-04-20 14:52:36.463  WARN 16280 --- [http-nio-8080-exec-8] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-04-20 14:52:44.027  INFO 16280 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:52:44.029  INFO 16280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:52:44.031  INFO 16280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:52:46.500  INFO 16889 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 16889 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:52:46.502  INFO 16889 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:52:47.023  INFO 16889 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:52:47.059  INFO 16889 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 7 JPA repository interfaces.
2022-04-20 14:52:47.387  INFO 16889 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:52:47.391  INFO 16889 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:52:47.392  INFO 16889 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:52:47.423  INFO 16889 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:52:47.423  INFO 16889 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 884 ms
2022-04-20 14:52:47.451  INFO 16889 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:52:47.506  INFO 16889 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:52:47.511  INFO 16889 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:52:47.597  INFO 16889 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:52:47.618  INFO 16889 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:52:47.675  INFO 16889 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:52:47.725  INFO 16889 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:52:48.087  INFO 16889 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:52:48.091  INFO 16889 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:52:48.404  WARN 16889 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:52:48.856  INFO 16889 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0e5c0c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ac0cb64, org.springframework.security.web.header.HeaderWriterFilter@5ce03a9d, org.springframework.security.web.authentication.logout.LogoutFilter@41962299, com.example.demo.jwt.CustomAuthFilter@5bb45afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@640028f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c040c8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f0b5d79, org.springframework.security.web.session.SessionManagementFilter@3f7f9d3f, org.springframework.security.web.access.ExceptionTranslationFilter@46f597f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23a78d2e]
2022-04-20 14:52:49.214  INFO 16889 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:52:49.723  INFO 16889 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.58 seconds (JVM running for 4.164)
2022-04-20 14:52:54.676  INFO 16889 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 14:52:54.677  INFO 16889 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 14:52:54.678  INFO 16889 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 14:52:54.814  WARN 16889 --- [http-nio-8080-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-04-20 14:53:41.954  INFO 16889 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:53:41.959  INFO 16889 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:53:41.960  INFO 16889 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:53:45.195  INFO 17055 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17055 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:53:45.197  INFO 17055 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:53:45.817  INFO 17055 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:53:45.859  INFO 17055 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 7 JPA repository interfaces.
2022-04-20 14:53:46.259  INFO 17055 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:53:46.265  INFO 17055 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:53:46.266  INFO 17055 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:53:46.299  INFO 17055 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:53:46.300  INFO 17055 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1072 ms
2022-04-20 14:53:46.330  INFO 17055 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:53:46.391  INFO 17055 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:53:46.397  INFO 17055 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:53:46.510  INFO 17055 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:53:46.534  INFO 17055 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:53:46.591  INFO 17055 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:53:46.641  INFO 17055 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:53:47.054  INFO 17055 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:53:47.058  INFO 17055 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:53:47.448  WARN 17055 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:53:47.974  INFO 17055 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e186006, org.springframework.security.web.context.SecurityContextPersistenceFilter@640028f2, org.springframework.security.web.header.HeaderWriterFilter@3f7f9d3f, org.springframework.security.web.authentication.logout.LogoutFilter@2e2546bf, com.example.demo.jwt.CustomAuthFilter@761ea1f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60655642, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@655b9169, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f047670, org.springframework.security.web.session.SessionManagementFilter@6915351c, org.springframework.security.web.access.ExceptionTranslationFilter@118f39f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@eb66b47]
2022-04-20 14:53:48.391  INFO 17055 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:53:48.979  INFO 17055 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 4.038 seconds (JVM running for 4.436)
2022-04-20 14:55:37.249  INFO 17055 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:55:37.250  INFO 17055 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:55:37.252  INFO 17055 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:55:41.317  INFO 17224 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17224 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:55:41.319  INFO 17224 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:55:42.045  INFO 17224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:55:42.087  INFO 17224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 7 JPA repository interfaces.
2022-04-20 14:55:42.493  INFO 17224 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:55:42.498  INFO 17224 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:55:42.498  INFO 17224 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:55:42.534  INFO 17224 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:55:42.535  INFO 17224 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1169 ms
2022-04-20 14:55:42.569  INFO 17224 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:55:42.622  INFO 17224 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:55:42.628  INFO 17224 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:55:42.728  INFO 17224 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:55:42.752  INFO 17224 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:55:42.805  INFO 17224 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:55:42.857  INFO 17224 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:55:43.268  INFO 17224 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:55:43.272  INFO 17224 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:55:43.637  WARN 17224 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:55:44.389  INFO 17224 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2981064d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3984e2b3, org.springframework.security.web.header.HeaderWriterFilter@2e845f1c, org.springframework.security.web.authentication.logout.LogoutFilter@153cf928, com.example.demo.jwt.CustomAuthFilter@1dc9e4d2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a0df38e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eaf6ced, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ef8899d, org.springframework.security.web.session.SessionManagementFilter@5b8ba1d2, org.springframework.security.web.access.ExceptionTranslationFilter@4a2f1ae3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@330d557e]
2022-04-20 14:55:44.765  INFO 17224 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:55:45.514  INFO 17224 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 4.564 seconds (JVM running for 5.056)
2022-04-20 14:55:51.600  INFO 17224 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 14:55:51.600  INFO 17224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 14:55:51.602  INFO 17224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-04-20 14:55:51.751 ERROR 17224 --- [http-nio-8080-exec-1] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:64) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:71) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$bd28ba4d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 14:56:40.124  INFO 17224 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:56:40.127  INFO 17224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:56:40.129  INFO 17224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:56:44.022  INFO 17385 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17385 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:56:44.024  INFO 17385 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:56:44.769  INFO 17385 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:56:44.816  INFO 17385 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 7 JPA repository interfaces.
2022-04-20 14:56:45.281  INFO 17385 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:56:45.287  INFO 17385 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:56:45.287  INFO 17385 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:56:45.329  INFO 17385 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:56:45.329  INFO 17385 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1253 ms
2022-04-20 14:56:45.363  INFO 17385 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:56:45.421  INFO 17385 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:56:45.428  INFO 17385 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:56:45.556  INFO 17385 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:56:45.580  INFO 17385 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:56:45.641  INFO 17385 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:56:45.712  INFO 17385 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:56:46.223  INFO 17385 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:56:46.229  INFO 17385 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:56:46.662  WARN 17385 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:56:47.414  INFO 17385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77331437, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e845f1c, org.springframework.security.web.header.HeaderWriterFilter@48b1b469, org.springframework.security.web.authentication.logout.LogoutFilter@359fd0a2, com.example.demo.jwt.CustomAuthFilter@98a0842, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b8ba1d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0df38e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56f569e, org.springframework.security.web.session.SessionManagementFilter@27ada0e8, org.springframework.security.web.access.ExceptionTranslationFilter@a1be5cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@505a48a2]
2022-04-20 14:56:47.871  INFO 17385 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:56:48.586  INFO 17385 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 4.884 seconds (JVM running for 5.351)
2022-04-20 14:56:56.605  INFO 17385 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 14:56:56.605  INFO 17385 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 14:56:56.607  INFO 17385 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 14:56:56.763 ERROR 17385 --- [http-nio-8080-exec-2] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:64) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:71) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$bd28ba4d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 14:57:41.381  INFO 17385 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:57:41.382  INFO 17385 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:57:41.387  INFO 17385 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:57:46.258  INFO 17555 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17555 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:57:46.260  INFO 17555 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:57:46.968  INFO 17555 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:57:47.014  INFO 17555 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 7 JPA repository interfaces.
2022-04-20 14:57:47.475  INFO 17555 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:57:47.481  INFO 17555 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:57:47.481  INFO 17555 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:57:47.531  INFO 17555 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:57:47.532  INFO 17555 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1229 ms
2022-04-20 14:57:47.567  INFO 17555 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:57:47.630  INFO 17555 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:57:47.637  INFO 17555 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:57:47.772  INFO 17555 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:57:47.796  INFO 17555 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:57:47.872  INFO 17555 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:57:47.932  INFO 17555 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:57:48.430  INFO 17555 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:57:48.435  INFO 17555 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:57:54.066  WARN 17555 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:58:52.590  INFO 17555 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25502b1c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ccfed46, org.springframework.security.web.header.HeaderWriterFilter@5620470a, org.springframework.security.web.authentication.logout.LogoutFilter@253c7189, com.example.demo.jwt.CustomAuthFilter@5dabe7c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8318808, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45fa7fb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c427386, org.springframework.security.web.session.SessionManagementFilter@2e76ade9, org.springframework.security.web.access.ExceptionTranslationFilter@66c91224, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@209f0986]
2022-04-20 14:58:53.325  INFO 17555 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:58:54.273  INFO 17555 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 68.326 seconds (JVM running for 69.724)
2022-04-20 14:58:54.294  WARN 17555 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42102, SQLState: 42S02
2022-04-20 14:58:54.294 ERROR 17555 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table "CATEGORY" not found; SQL statement:
insert into category (id, name) values (null, ?) [42102-200]
2022-04-20 14:58:54.295  INFO 17555 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:58:54.297  INFO 17555 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:58:54.303  INFO 17555 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:59:04.228  INFO 17888 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17888 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:59:04.230  INFO 17888 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:59:05.042  INFO 17888 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:59:05.094  INFO 17888 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 7 JPA repository interfaces.
2022-04-20 14:59:05.548  INFO 17888 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:59:05.553  INFO 17888 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:59:05.553  INFO 17888 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:59:05.592  INFO 17888 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:59:05.592  INFO 17888 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1302 ms
2022-04-20 14:59:05.635  INFO 17888 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:59:05.689  INFO 17888 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:59:05.695  INFO 17888 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:59:05.805  INFO 17888 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:59:05.829  INFO 17888 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:59:05.889  INFO 17888 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:59:05.943  INFO 17888 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:59:06.299  WARN 17888 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2022-04-20 14:59:06.299 ERROR 17888 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-04-20 14:59:06.300  WARN 17888 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2022-04-20 14:59:06.300 ERROR 17888 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-04-20 14:59:06.303 ERROR 17888 --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-04-20 14:59:06.304  WARN 17888 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2022-04-20 14:59:06.304  INFO 17888 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:59:06.306  INFO 17888 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 14:59:11.139  INFO 17992 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 17992 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 14:59:11.142  INFO 17992 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 14:59:11.884  INFO 17992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 14:59:11.931  INFO 17992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 7 JPA repository interfaces.
2022-04-20 14:59:12.384  INFO 17992 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 14:59:12.390  INFO 17992 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 14:59:12.390  INFO 17992 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 14:59:12.428  INFO 17992 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 14:59:12.428  INFO 17992 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1238 ms
2022-04-20 14:59:12.462  INFO 17992 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 14:59:12.533  INFO 17992 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 14:59:12.540  INFO 17992 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 14:59:12.673  INFO 17992 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 14:59:12.696  INFO 17992 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 14:59:12.771  INFO 17992 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 14:59:12.831  INFO 17992 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 14:59:13.414  INFO 17992 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 14:59:13.420  INFO 17992 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:59:13.885  WARN 17992 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 14:59:14.725  INFO 17992 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b5e5fa, org.springframework.security.web.context.SecurityContextPersistenceFilter@5af8ef61, org.springframework.security.web.header.HeaderWriterFilter@66c91224, org.springframework.security.web.authentication.logout.LogoutFilter@7e0393df, com.example.demo.jwt.CustomAuthFilter@24caa80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3368cf02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71e2ddd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3420547, org.springframework.security.web.session.SessionManagementFilter@51d80f6e, org.springframework.security.web.access.ExceptionTranslationFilter@7e4a6afd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c2d124e]
2022-04-20 14:59:15.266  INFO 17992 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 14:59:15.974  INFO 17992 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 5.267 seconds (JVM running for 6.04)
2022-04-20 14:59:24.614  INFO 17992 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 14:59:24.614  INFO 17992 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 14:59:24.616  INFO 17992 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 14:59:55.956  WARN 17992 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2022-04-20 14:59:55.957 ERROR 17992 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-04-20 14:59:55.990  WARN 17992 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90121, SQLState: 90121
2022-04-20 14:59:55.991 ERROR 17992 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-04-20 14:59:55.993 ERROR 17992 --- [http-nio-8080-exec-1] o.s.orm.jpa.EntityManagerFactoryUtils    : Failed to release JPA EntityManager

org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:223) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:175) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:374) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:417) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:402) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:427) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:650) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:992) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:875) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:672) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$b325da4c.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:170) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1514) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1490) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.setAutoCommit(JdbcConnection.java:495) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.PoolBase.resetConnectionState(PoolBase.java:219) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.PoolEntry.resetConnectionState(PoolEntry.java:107) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:263) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:49) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:219) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 73 common frames omitted

2022-04-20 14:59:55.994 ERROR 17992 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Application exception overridden by rollback exception

org.springframework.dao.DataAccessResourceFailureException: could not prepare statement; nested exception is org.hibernate.exception.JDBCConnectionException: could not prepare statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:65) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:72) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$b325da4c.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.hibernate.exception.JDBCConnectionException: could not prepare statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:956) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1454) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:170) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1514) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1490) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:350) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 111 common frames omitted

2022-04-20 14:59:55.996 ERROR 17992 --- [http-nio-8080-exec-1] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: Could not roll back JPA transaction; nested exception is org.hibernate.TransactionException: Unable to rollback against JDBC Connection
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is org.hibernate.TransactionException: Unable to rollback against JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:593) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:672) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$b325da4c.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: org.hibernate.TransactionException: Unable to rollback against JDBC Connection
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:127) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:304) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:589) ~[spring-orm-5.3.15.jar:5.3.15]
	... 65 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:170) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1514) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.checkClosedForWrite(JdbcConnection.java:1500) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:556) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:121) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 68 common frames omitted

2022-04-20 14:59:56.055  INFO 17992 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 14:59:56.057  INFO 17992 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 14:59:56.059  INFO 17992 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:00:57.225  INFO 18196 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18196 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:00:57.228  INFO 18196 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:00:57.912  INFO 18196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:00:57.952  INFO 18196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
2022-04-20 15:00:58.343  INFO 18196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:00:58.347  INFO 18196 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:00:58.348  INFO 18196 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:00:58.383  INFO 18196 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:00:58.383  INFO 18196 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms
2022-04-20 15:00:58.421  INFO 18196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:00:58.474  INFO 18196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:00:58.480  INFO 18196 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:00:58.586  INFO 18196 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:00:58.607  INFO 18196 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:00:58.663  INFO 18196 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:00:58.710  INFO 18196 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:00:59.122  INFO 18196 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:00:59.126  INFO 18196 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:00:59.473  WARN 18196 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:01:00.038  INFO 18196 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62b2bc2e, org.springframework.security.web.context.SecurityContextPersistenceFilter@715523b8, org.springframework.security.web.header.HeaderWriterFilter@7db63a01, org.springframework.security.web.authentication.logout.LogoutFilter@6109366a, com.example.demo.jwt.CustomAuthFilter@3e3d8e6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@419c70f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62fa4a88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fd3197b, org.springframework.security.web.session.SessionManagementFilter@57def953, org.springframework.security.web.access.ExceptionTranslationFilter@7d48299e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53630682]
2022-04-20 15:01:00.431  INFO 18196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:01:01.113  INFO 18196 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 4.228 seconds (JVM running for 4.693)
2022-04-20 15:01:14.679  INFO 18196 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:01:14.680  INFO 18196 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:01:14.681  INFO 18196 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:01:14.843 ERROR 18196 --- [http-nio-8080-exec-2] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: com.example.demo.util.exceptions.MissingUserException: null
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:66) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:72) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$bd28ba4d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted

2022-04-20 15:03:35.676  INFO 18196 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:03:35.678  INFO 18196 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:03:35.681  INFO 18196 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:03:38.745  INFO 18415 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18415 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:03:38.747  INFO 18415 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:03:39.330  INFO 18415 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:03:39.366  INFO 18415 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 7 JPA repository interfaces.
2022-04-20 15:03:39.743  INFO 18415 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:03:39.748  INFO 18415 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:03:39.748  INFO 18415 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:03:39.785  INFO 18415 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:03:39.785  INFO 18415 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 989 ms
2022-04-20 15:03:39.815  INFO 18415 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:03:39.867  INFO 18415 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:03:39.878  INFO 18415 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:03:39.984  INFO 18415 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:03:40.006  INFO 18415 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:03:40.051  INFO 18415 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:03:40.095  INFO 18415 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:03:40.463  INFO 18415 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:03:40.466  INFO 18415 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:03:40.780  WARN 18415 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:03:41.322  INFO 18415 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e0393df, org.springframework.security.web.context.SecurityContextPersistenceFilter@51e14cb6, org.springframework.security.web.header.HeaderWriterFilter@2bd8c8f1, org.springframework.security.web.authentication.logout.LogoutFilter@513ddf5f, com.example.demo.jwt.CustomAuthFilter@62b2bc2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ac30be4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27ada0e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e3d8e6c, org.springframework.security.web.session.SessionManagementFilter@3aac31b7, org.springframework.security.web.access.ExceptionTranslationFilter@8a8cab8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ccfed46]
2022-04-20 15:03:41.646  INFO 18415 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:03:42.125  INFO 18415 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.681 seconds (JVM running for 4.11)
2022-04-20 15:04:14.539  INFO 18415 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:04:14.539  INFO 18415 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:04:14.540  INFO 18415 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:04:14.669 ERROR 18415 --- [http-nio-8080-exec-2] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: com.example.demo.util.exceptions.MissingUserException: null
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:65) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:71) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$d2ec8044.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted

2022-04-20 15:04:22.995  INFO 18415 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:04:22.997  INFO 18415 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:04:23.002  INFO 18415 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:04:25.735  INFO 18579 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18579 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:04:25.736  INFO 18579 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:04:26.212  INFO 18579 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:04:26.245  INFO 18579 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
2022-04-20 15:04:26.587  INFO 18579 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:04:26.590  INFO 18579 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:04:26.591  INFO 18579 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:04:26.621  INFO 18579 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:04:26.621  INFO 18579 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 857 ms
2022-04-20 15:04:26.645  INFO 18579 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:04:26.695  INFO 18579 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:04:26.700  INFO 18579 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:04:26.782  INFO 18579 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:04:26.800  INFO 18579 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:04:26.848  INFO 18579 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:04:26.892  INFO 18579 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:04:27.231  INFO 18579 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:04:27.234  INFO 18579 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:04:27.537  WARN 18579 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:04:28.133  INFO 18579 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77331437, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e845f1c, org.springframework.security.web.header.HeaderWriterFilter@48b1b469, org.springframework.security.web.authentication.logout.LogoutFilter@359fd0a2, com.example.demo.jwt.CustomAuthFilter@98a0842, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b8ba1d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0df38e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56f569e, org.springframework.security.web.session.SessionManagementFilter@27ada0e8, org.springframework.security.web.access.ExceptionTranslationFilter@a1be5cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@505a48a2]
2022-04-20 15:04:28.481  INFO 18579 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:04:29.011  INFO 18579 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.47 seconds (JVM running for 3.823)
2022-04-20 15:04:34.137  INFO 18579 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:04:34.137  INFO 18579 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:04:34.138  INFO 18579 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:04:34.273 ERROR 18579 --- [http-nio-8080-exec-2] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findUserByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:64) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:71) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$bd28ba4d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 15:05:46.757  INFO 18579 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:05:46.758  INFO 18579 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:05:46.759  INFO 18579 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:05:49.754  INFO 18744 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18744 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:05:49.757  INFO 18744 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:05:50.248  INFO 18744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:05:50.282  INFO 18744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:05:50.626  INFO 18744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:05:50.629  INFO 18744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:05:50.630  INFO 18744 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:05:50.659  INFO 18744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:05:50.659  INFO 18744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 875 ms
2022-04-20 15:05:50.686  INFO 18744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:05:50.734  INFO 18744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:05:50.739  INFO 18744 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:05:50.825  INFO 18744 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:05:50.843  INFO 18744 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:05:50.893  INFO 18744 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:05:50.937  INFO 18744 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:05:51.293  INFO 18744 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:05:51.296  INFO 18744 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:05:51.586  WARN 18744 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:05:52.117  INFO 18744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ef8899d, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f82a71f, org.springframework.security.web.header.HeaderWriterFilter@1f67d37f, org.springframework.security.web.authentication.logout.LogoutFilter@53cba89f, com.example.demo.jwt.CustomAuthFilter@41bc501b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8aa3013, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a7b4ff5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60ae950f, org.springframework.security.web.session.SessionManagementFilter@1eda853f, org.springframework.security.web.access.ExceptionTranslationFilter@6a887649, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@170937fe]
2022-04-20 15:05:52.429  INFO 18744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:05:52.911  INFO 18744 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.34 seconds (JVM running for 3.67)
2022-04-20 15:05:57.242  INFO 18744 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:05:57.242  INFO 18744 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:05:57.243  INFO 18744 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:05:57.375 ERROR 18744 --- [http-nio-8080-exec-2] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findUserByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:66) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:73) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$ebb7b7ef.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 15:09:50.757  INFO 18744 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:09:50.759  INFO 18744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:09:50.760  INFO 18744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:09:53.533  INFO 18969 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 18969 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:09:53.535  INFO 18969 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:09:54.036  INFO 18969 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:09:54.068  INFO 18969 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
2022-04-20 15:09:54.392  INFO 18969 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:09:54.396  INFO 18969 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:09:54.396  INFO 18969 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:09:54.427  INFO 18969 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:09:54.427  INFO 18969 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 858 ms
2022-04-20 15:09:54.455  INFO 18969 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:09:54.498  INFO 18969 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:09:54.504  INFO 18969 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:09:54.590  INFO 18969 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:09:54.607  INFO 18969 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:09:54.658  INFO 18969 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:09:54.699  INFO 18969 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:09:55.042  INFO 18969 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:09:55.046  INFO 18969 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:09:55.345  WARN 18969 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:09:55.876  INFO 18969 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b949de4, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f0751b0, org.springframework.security.web.header.HeaderWriterFilter@64641998, org.springframework.security.web.authentication.logout.LogoutFilter@d970881, com.example.demo.jwt.CustomAuthFilter@2981064d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f82a71f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac35b17, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dc9e4d2, org.springframework.security.web.session.SessionManagementFilter@1f67d37f, org.springframework.security.web.access.ExceptionTranslationFilter@190cc39e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6202f8bf]
2022-04-20 15:09:56.195  INFO 18969 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:09:56.679  INFO 18969 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.367 seconds (JVM running for 3.674)
2022-04-20 15:10:00.473  INFO 18969 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:10:00.474  INFO 18969 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:10:00.475  INFO 18969 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:10:00.604 ERROR 18969 --- [http-nio-8080-exec-1] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findUserByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:73) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$ebb7b7ef.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 76 common frames omitted

2022-04-20 15:12:51.648  INFO 18969 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:12:51.650  INFO 18969 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:12:51.652  INFO 18969 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:12:54.394  INFO 19161 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19161 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:12:54.396  INFO 19161 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:12:54.908  INFO 19161 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:12:54.941  INFO 19161 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
2022-04-20 15:12:55.258  INFO 19161 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:12:55.261  INFO 19161 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:12:55.262  INFO 19161 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:12:55.290  INFO 19161 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:12:55.290  INFO 19161 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 856 ms
2022-04-20 15:12:55.314  INFO 19161 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:12:55.361  INFO 19161 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:12:55.366  INFO 19161 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:12:55.447  INFO 19161 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:12:55.463  INFO 19161 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:12:55.515  INFO 19161 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:12:55.561  INFO 19161 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:12:55.912  INFO 19161 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:12:55.916  INFO 19161 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:12:56.218  WARN 19161 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:12:56.832  INFO 19161 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dc9e4d2, org.springframework.security.web.context.SecurityContextPersistenceFilter@35bb3fea, org.springframework.security.web.header.HeaderWriterFilter@1e9afe4e, org.springframework.security.web.authentication.logout.LogoutFilter@4884350b, com.example.demo.jwt.CustomAuthFilter@7ef8899d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64821706, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f8035d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41bc501b, org.springframework.security.web.session.SessionManagementFilter@57fb6900, org.springframework.security.web.access.ExceptionTranslationFilter@48b1b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ab595e8]
2022-04-20 15:12:57.136  INFO 19161 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:12:57.646  INFO 19161 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.443 seconds (JVM running for 3.776)
2022-04-20 15:13:25.771  INFO 19161 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:13:25.771  INFO 19161 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:13:25.772  INFO 19161 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:13:25.903 ERROR 19161 --- [http-nio-8080-exec-1] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findUserByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:66) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:73) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$12e3f06f.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 15:15:22.184  INFO 19161 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:15:22.186  INFO 19161 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:15:22.187  INFO 19161 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:15:24.937  INFO 19351 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19351 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:15:24.939  INFO 19351 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:15:25.439  INFO 19351 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:15:25.471  INFO 19351 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
2022-04-20 15:15:25.793  INFO 19351 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:15:25.797  INFO 19351 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:15:25.797  INFO 19351 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:15:25.826  INFO 19351 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:15:25.826  INFO 19351 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 858 ms
2022-04-20 15:15:25.849  INFO 19351 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:15:25.899  INFO 19351 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:15:25.904  INFO 19351 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:15:25.980  INFO 19351 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:15:25.994  INFO 19351 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:15:26.046  INFO 19351 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:15:26.086  INFO 19351 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:15:26.430  INFO 19351 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:15:26.434  INFO 19351 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:15:26.723  WARN 19351 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:15:27.323  INFO 19351 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@89dd102, org.springframework.security.web.context.SecurityContextPersistenceFilter@627ad446, org.springframework.security.web.header.HeaderWriterFilter@3f0751b0, org.springframework.security.web.authentication.logout.LogoutFilter@736eb2a2, com.example.demo.jwt.CustomAuthFilter@2b826482, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ac35b17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6109366a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f908a10, org.springframework.security.web.session.SessionManagementFilter@7f82a71f, org.springframework.security.web.access.ExceptionTranslationFilter@4b6942a0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@439047ef]
2022-04-20 15:15:27.633  INFO 19351 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:15:28.101  INFO 19351 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.37 seconds (JVM running for 3.723)
2022-04-20 15:15:33.597  INFO 19351 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:15:33.598  INFO 19351 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:15:33.599  INFO 19351 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:15:33.736 ERROR 19351 --- [http-nio-8080-exec-1] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findUserByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:66) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:73) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$ebb7b7ef.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 15:16:02.386  INFO 19351 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:16:02.387  INFO 19351 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:16:02.388  INFO 19351 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:16:04.916  INFO 19494 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19494 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:16:04.917  INFO 19494 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:16:05.411  INFO 19494 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:16:05.445  INFO 19494 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:16:05.776  INFO 19494 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:16:05.779  INFO 19494 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:16:05.780  INFO 19494 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:16:05.808  INFO 19494 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:16:05.808  INFO 19494 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 856 ms
2022-04-20 15:16:05.831  INFO 19494 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:16:05.883  INFO 19494 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:16:05.888  INFO 19494 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:16:05.970  INFO 19494 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:16:05.988  INFO 19494 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:16:06.037  INFO 19494 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:16:06.079  INFO 19494 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:16:06.437  INFO 19494 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:16:06.440  INFO 19494 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:16:06.730  WARN 19494 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:16:07.016  WARN 19494 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataInitialization': Injection of autowired dependencies failed; nested exception is javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'org.hibernate.validator.constraints.UniqueElements' validating type 'java.lang.String'. Check configuration for 'username'
2022-04-20 15:16:07.018  INFO 19494 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:16:07.019  INFO 19494 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:16:07.020  INFO 19494 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:16:07.021  INFO 19494 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-04-20 15:16:07.029  INFO 19494 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-20 15:16:07.041 ERROR 19494 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataInitialization': Injection of autowired dependencies failed; nested exception is javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'org.hibernate.validator.constraints.UniqueElements' validating type 'java.lang.String'. Check configuration for 'username'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]
	at com.example.demo.TehnickiZadatakApplication.main(TehnickiZadatakApplication.java:17) ~[classes/:na]
Caused by: javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'org.hibernate.validator.constraints.UniqueElements' validating type 'java.lang.String'. Check configuration for 'username'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:54) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:116) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:188) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:78) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy133.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:630) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy145.save(Unknown Source) ~[na:na]
	at com.example.demo.util.DataInitialization.run(DataInitialization.java:113) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.15.jar:5.3.15]
	... 17 common frames omitted

2022-04-20 15:17:52.510  INFO 19803 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19803 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:17:52.512  INFO 19803 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:17:52.999  INFO 19803 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:17:53.034  INFO 19803 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:17:53.367  INFO 19803 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:17:53.371  INFO 19803 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:17:53.372  INFO 19803 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:17:53.401  INFO 19803 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:17:53.402  INFO 19803 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 854 ms
2022-04-20 15:17:53.428  INFO 19803 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:17:53.479  INFO 19803 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:17:53.484  INFO 19803 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:17:53.564  INFO 19803 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:17:53.582  INFO 19803 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:17:53.631  INFO 19803 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:17:53.674  INFO 19803 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:17:54.025  INFO 19803 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:17:54.029  INFO 19803 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:17:54.332  WARN 19803 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:17:54.958  INFO 19803 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60ae950f, org.springframework.security.web.context.SecurityContextPersistenceFilter@64821706, org.springframework.security.web.header.HeaderWriterFilter@57fb6900, org.springframework.security.web.authentication.logout.LogoutFilter@14aa2123, com.example.demo.jwt.CustomAuthFilter@321302bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77feca04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f7d73e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@89dd102, org.springframework.security.web.session.SessionManagementFilter@3984e2b3, org.springframework.security.web.access.ExceptionTranslationFilter@27ada0e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b44ed3c]
2022-04-20 15:17:55.283  INFO 19803 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:17:55.743  INFO 19803 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.465 seconds (JVM running for 3.816)
2022-04-20 15:17:55.913  WARN 19803 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2022-04-20 15:17:55.913 ERROR 19803 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PUBLIC.UK_SB8BBOUER5WAK8VYIIY4PF2BX_INDEX_2 ON PUBLIC.USER(USERNAME) VALUES 1"; SQL statement:
insert into user (id, channel_id, name, password, roles, username) values (null, ?, ?, ?, ?, ?) [23505-200]
2022-04-20 15:17:55.917  INFO 19803 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-04-20 15:17:55.925 ERROR 19803 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute ApplicationRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]
	at com.example.demo.TehnickiZadatakApplication.main(TehnickiZadatakApplication.java:17) ~[classes/:na]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PUBLIC.UK_SB8BBOUER5WAK8VYIIY4PF2BX_INDEX_2 ON PUBLIC.USER(USERNAME) VALUES 1"; SQL statement:
insert into user (id, channel_id, name, password, roles, username) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.save(Unknown Source) ~[na:na]
	at com.example.demo.util.DataInitialization.run(DataInitialization.java:113) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-2.6.3.jar:2.6.3]
	... 5 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor93.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:630) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at jdk.internal.reflect.GeneratedMethodAccessor92.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 14 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.UK_SB8BBOUER5WAK8VYIIY4PF2BX_INDEX_2 ON PUBLIC.USER(USERNAME) VALUES 1"; SQL statement:
insert into user (id, channel_id, name, password, roles, username) values (null, ?, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:221) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:196) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.CommandContainer.update(CommandContainer.java:191) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	... 59 common frames omitted

2022-04-20 15:17:55.938  INFO 19803 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:17:55.939  INFO 19803 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:17:55.940  INFO 19803 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:19:52.229  INFO 19949 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 19949 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:19:52.231  INFO 19949 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:19:52.728  INFO 19949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:19:52.761  INFO 19949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 15:19:53.085  INFO 19949 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:19:53.089  INFO 19949 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:19:53.089  INFO 19949 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:19:53.118  INFO 19949 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:19:53.118  INFO 19949 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 854 ms
2022-04-20 15:19:53.144  INFO 19949 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:19:53.191  INFO 19949 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:19:53.196  INFO 19949 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:19:53.278  INFO 19949 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:19:53.294  INFO 19949 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:19:53.345  INFO 19949 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:19:53.386  INFO 19949 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:19:53.739  INFO 19949 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:19:53.743  INFO 19949 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:19:54.040  WARN 19949 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:19:54.578  INFO 19949 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64b0ec4a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1eda853f, org.springframework.security.web.header.HeaderWriterFilter@4b6942a0, org.springframework.security.web.authentication.logout.LogoutFilter@2c56e044, com.example.demo.jwt.CustomAuthFilter@1b949de4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35bb3fea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b0d9da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2981064d, org.springframework.security.web.session.SessionManagementFilter@1e9afe4e, org.springframework.security.web.access.ExceptionTranslationFilter@419c70f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21b792c2]
2022-04-20 15:19:54.899  INFO 19949 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:19:55.384  INFO 19949 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.359 seconds (JVM running for 3.671)
2022-04-20 15:20:00.584  INFO 19949 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:20:00.584  INFO 19949 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:20:00.585  INFO 19949 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:20:00.720 ERROR 19949 --- [http-nio-8080-exec-2] com.example.demo.jwt.CustomAuthFilter    : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.2.jar:5.6.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]
	at com.example.demo.jwt.CustomAuthFilter.attemptAuthentication(CustomAuthFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findUserByUsername(Unknown Source) ~[na:na]
	at com.example.demo.service.imp.UserServiceImp.findByUsername(UserServiceImp.java:66) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp.loadUserByUsername(UserServiceImp.java:73) ~[classes/:na]
	at com.example.demo.service.imp.UserServiceImp$$FastClassBySpringCGLIB$$936c457.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]
	at com.example.demo.service.imp.UserServiceImp$$EnhancerBySpringCGLIB$$12e3f06f.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.2.jar:5.6.2]
	... 55 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]
	... 77 common frames omitted

2022-04-20 15:21:21.882  INFO 19949 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:21:21.883  INFO 19949 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:21:21.885  INFO 19949 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:21:24.743  INFO 20147 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20147 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:21:24.745  INFO 20147 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:21:25.233  INFO 20147 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:21:25.267  INFO 20147 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 15:21:25.602  INFO 20147 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:21:25.606  INFO 20147 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:21:25.606  INFO 20147 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:21:25.635  INFO 20147 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:21:25.635  INFO 20147 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 861 ms
2022-04-20 15:21:25.660  INFO 20147 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:21:25.708  INFO 20147 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:21:25.713  INFO 20147 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:21:25.789  INFO 20147 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:21:25.805  INFO 20147 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:21:25.859  INFO 20147 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:21:25.902  INFO 20147 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:21:26.235  INFO 20147 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:21:26.239  INFO 20147 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:21:26.548  WARN 20147 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:21:27.216  INFO 20147 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1509bd56, org.springframework.security.web.context.SecurityContextPersistenceFilter@13f255ed, org.springframework.security.web.header.HeaderWriterFilter@77e24d3c, org.springframework.security.web.authentication.logout.LogoutFilter@765e5a55, com.example.demo.jwt.CustomAuthFilter@2c4eda3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30b0d5a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b23897a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@466bf366, org.springframework.security.web.session.SessionManagementFilter@3a641f6, org.springframework.security.web.access.ExceptionTranslationFilter@4cb939d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b446d7]
2022-04-20 15:21:27.549  INFO 20147 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:21:28.028  INFO 20147 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.497 seconds (JVM running for 3.825)
2022-04-20 15:26:10.318  INFO 20147 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:26:10.319  INFO 20147 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:26:10.321  INFO 20147 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:26:13.178  INFO 20438 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20438 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:26:13.179  INFO 20438 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:26:13.685  INFO 20438 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:26:13.721  INFO 20438 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:26:14.065  INFO 20438 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:26:14.069  INFO 20438 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:26:14.069  INFO 20438 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:26:14.098  INFO 20438 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:26:14.098  INFO 20438 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 891 ms
2022-04-20 15:26:14.124  INFO 20438 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:26:14.173  INFO 20438 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:26:14.179  INFO 20438 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:26:14.262  INFO 20438 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:26:14.287  INFO 20438 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:26:14.343  INFO 20438 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:26:14.383  INFO 20438 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:26:14.740  INFO 20438 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:26:14.744  INFO 20438 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:26:15.036  WARN 20438 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:26:15.694  INFO 20438 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@700596f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@31ecb361, org.springframework.security.web.header.HeaderWriterFilter@66487713, org.springframework.security.web.authentication.logout.LogoutFilter@34f3c920, com.example.demo.jwt.CustomAuthFilter@2ac00dc9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6779959d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ee5792a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33293b34, org.springframework.security.web.session.SessionManagementFilter@13f255ed, org.springframework.security.web.access.ExceptionTranslationFilter@3c070ade, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60660d21]
2022-04-20 15:26:16.001  INFO 20438 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:26:16.502  INFO 20438 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.522 seconds (JVM running for 3.847)
2022-04-20 15:26:55.860  INFO 20438 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:26:55.863  INFO 20438 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:26:55.865  INFO 20438 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:26:59.159  INFO 20585 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20585 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:26:59.160  INFO 20585 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:26:59.632  INFO 20585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:26:59.663  INFO 20585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 7 JPA repository interfaces.
2022-04-20 15:26:59.998  INFO 20585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:27:00.003  INFO 20585 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:27:00.003  INFO 20585 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:27:00.034  INFO 20585 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:27:00.034  INFO 20585 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 845 ms
2022-04-20 15:27:00.060  INFO 20585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:27:00.108  INFO 20585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:27:00.113  INFO 20585 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:27:00.195  INFO 20585 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:27:00.213  INFO 20585 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:27:00.262  INFO 20585 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:27:00.313  INFO 20585 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:27:00.647  INFO 20585 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:27:00.650  INFO 20585 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:27:00.943  WARN 20585 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:27:01.605  INFO 20585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28be7db5, org.springframework.security.web.context.SecurityContextPersistenceFilter@30b0d5a7, org.springframework.security.web.header.HeaderWriterFilter@3a641f6, org.springframework.security.web.authentication.logout.LogoutFilter@307ba188, com.example.demo.jwt.CustomAuthFilter@700596f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51d26fed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69fa5536, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ac00dc9, org.springframework.security.web.session.SessionManagementFilter@22ea09b7, org.springframework.security.web.access.ExceptionTranslationFilter@39f5eba4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41c56930]
2022-04-20 15:27:01.908  INFO 20585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:27:02.382  INFO 20585 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.458 seconds (JVM running for 3.75)
2022-04-20 15:27:40.853  INFO 20585 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:27:40.855  INFO 20585 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:27:40.856  INFO 20585 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:27:43.613  INFO 20712 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20712 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:27:43.614  INFO 20712 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:27:44.191  INFO 20712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:27:44.222  INFO 20712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 7 JPA repository interfaces.
2022-04-20 15:27:44.541  INFO 20712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:27:44.545  INFO 20712 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:27:44.545  INFO 20712 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:27:44.573  INFO 20712 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:27:44.573  INFO 20712 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 916 ms
2022-04-20 15:27:44.596  INFO 20712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:27:44.643  INFO 20712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:27:44.649  INFO 20712 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:27:44.726  INFO 20712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:27:44.742  INFO 20712 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:27:44.791  INFO 20712 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:27:44.837  INFO 20712 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:27:45.193  INFO 20712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:27:45.197  INFO 20712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:27:45.491  WARN 20712 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:27:46.135  INFO 20712 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ac00dc9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d84f113, org.springframework.security.web.header.HeaderWriterFilter@18ed8b75, org.springframework.security.web.authentication.logout.LogoutFilter@73f0b216, com.example.demo.jwt.CustomAuthFilter@33293b34, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@335a45a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37f60cd4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68a1bb31, org.springframework.security.web.session.SessionManagementFilter@36a7586f, org.springframework.security.web.access.ExceptionTranslationFilter@bb3487c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2898c70d]
2022-04-20 15:27:46.446  INFO 20712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:27:46.952  INFO 20712 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.607 seconds (JVM running for 3.945)
2022-04-20 15:29:48.973  INFO 20712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:29:48.974  INFO 20712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:29:48.976  INFO 20712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:29:51.911  INFO 20979 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 20979 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:29:51.913  INFO 20979 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:29:52.409  INFO 20979 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:29:52.442  INFO 20979 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 15:29:52.782  INFO 20979 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:29:52.786  INFO 20979 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:29:52.786  INFO 20979 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:29:52.815  INFO 20979 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:29:52.816  INFO 20979 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 867 ms
2022-04-20 15:29:52.842  INFO 20979 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:29:52.890  INFO 20979 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:29:52.895  INFO 20979 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:29:52.972  INFO 20979 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:29:52.989  INFO 20979 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:29:53.037  INFO 20979 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:29:53.078  INFO 20979 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:29:53.419  INFO 20979 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:29:53.422  INFO 20979 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:29:53.725  WARN 20979 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:29:54.389  INFO 20979 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@700596f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@31ecb361, org.springframework.security.web.header.HeaderWriterFilter@66487713, org.springframework.security.web.authentication.logout.LogoutFilter@34f3c920, com.example.demo.jwt.CustomAuthFilter@2ac00dc9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6779959d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ee5792a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33293b34, org.springframework.security.web.session.SessionManagementFilter@13f255ed, org.springframework.security.web.access.ExceptionTranslationFilter@3c070ade, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60660d21]
2022-04-20 15:29:54.711  INFO 20979 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:29:55.212  INFO 20979 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.515 seconds (JVM running for 3.845)
2022-04-20 15:31:13.947  INFO 20979 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:31:13.949  INFO 20979 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:31:13.950  INFO 20979 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:31:16.662  INFO 21181 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 21181 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:31:16.664  INFO 21181 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:31:17.186  INFO 21181 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:31:17.221  INFO 21181 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 7 JPA repository interfaces.
2022-04-20 15:31:17.576  INFO 21181 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:31:17.580  INFO 21181 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:31:17.580  INFO 21181 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:31:17.624  INFO 21181 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:31:17.624  INFO 21181 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 916 ms
2022-04-20 15:31:17.650  INFO 21181 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:31:17.697  INFO 21181 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:31:17.702  INFO 21181 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:31:17.786  INFO 21181 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:31:17.810  INFO 21181 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:31:17.861  INFO 21181 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:31:17.903  INFO 21181 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:31:18.287  INFO 21181 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:31:18.291  INFO 21181 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:31:18.584  WARN 21181 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:31:19.256  INFO 21181 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@466bf366, org.springframework.security.web.context.SecurityContextPersistenceFilter@4265cbed, org.springframework.security.web.header.HeaderWriterFilter@4f1ea463, org.springframework.security.web.authentication.logout.LogoutFilter@1722ede1, com.example.demo.jwt.CustomAuthFilter@28be7db5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d84f113, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21cb5648, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@700596f9, org.springframework.security.web.session.SessionManagementFilter@18ed8b75, org.springframework.security.web.access.ExceptionTranslationFilter@62818ab0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b71a12e]
2022-04-20 15:31:19.569  INFO 21181 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:31:20.079  INFO 21181 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.649 seconds (JVM running for 3.97)
2022-04-20 15:32:36.807  INFO 21181 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:32:36.809  INFO 21181 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:32:36.810  INFO 21181 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:32:39.851  INFO 21335 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 21335 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:32:39.853  INFO 21335 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:32:40.314  INFO 21335 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:32:40.349  INFO 21335 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:32:40.689  INFO 21335 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:32:40.692  INFO 21335 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:32:40.693  INFO 21335 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:32:40.725  INFO 21335 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:32:40.725  INFO 21335 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 836 ms
2022-04-20 15:32:40.757  INFO 21335 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:32:40.807  INFO 21335 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:32:40.812  INFO 21335 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:32:40.897  INFO 21335 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:32:40.916  INFO 21335 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:32:40.966  INFO 21335 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:32:41.005  INFO 21335 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:32:41.358  INFO 21335 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:32:41.361  INFO 21335 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:32:41.664  WARN 21335 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:32:42.186  INFO 21335 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@375682a5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f1ea463, org.springframework.security.web.header.HeaderWriterFilter@39f5eba4, org.springframework.security.web.authentication.logout.LogoutFilter@7305a443, com.example.demo.jwt.CustomAuthFilter@79827e71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18ed8b75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d84f113, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c20abd6, org.springframework.security.web.session.SessionManagementFilter@650997b0, org.springframework.security.web.access.ExceptionTranslationFilter@643f8ebe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ba8fbc8]
2022-04-20 15:32:42.512  INFO 21335 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:32:42.983  INFO 21335 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.34 seconds (JVM running for 3.652)
2022-04-20 15:33:21.226  INFO 21335 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:33:21.227  INFO 21335 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:33:21.228  INFO 21335 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:33:22.925  INFO 21471 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 21471 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:33:22.926  INFO 21471 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:33:23.440  INFO 21471 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:33:23.476  INFO 21471 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 7 JPA repository interfaces.
2022-04-20 15:33:23.806  INFO 21471 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:33:23.810  INFO 21471 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:33:23.810  INFO 21471 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:33:23.838  INFO 21471 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:33:23.838  INFO 21471 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 873 ms
2022-04-20 15:33:23.864  INFO 21471 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:33:23.913  INFO 21471 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:33:23.919  INFO 21471 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:33:23.998  INFO 21471 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:33:24.014  INFO 21471 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:33:24.063  INFO 21471 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:33:24.106  INFO 21471 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:33:24.448  INFO 21471 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:33:24.452  INFO 21471 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:33:24.753  WARN 21471 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:33:25.247  INFO 21471 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73f0b216, org.springframework.security.web.context.SecurityContextPersistenceFilter@14f1545c, org.springframework.security.web.header.HeaderWriterFilter@10efb806, org.springframework.security.web.authentication.logout.LogoutFilter@490f2fad, com.example.demo.jwt.CustomAuthFilter@73bd146c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a106b26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a79a5d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ea78c72, org.springframework.security.web.session.SessionManagementFilter@a3f1f32, org.springframework.security.web.access.ExceptionTranslationFilter@54d116d5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69fa5536]
2022-04-20 15:33:25.573  INFO 21471 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:33:26.081  INFO 21471 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.436 seconds (JVM running for 3.755)
2022-04-20 15:34:16.507  INFO 21471 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:34:16.509  INFO 21471 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:34:16.510  INFO 21471 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:34:19.279  INFO 21606 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 21606 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:34:19.280  INFO 21606 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:34:19.785  INFO 21606 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:34:19.820  INFO 21606 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 7 JPA repository interfaces.
2022-04-20 15:34:20.159  INFO 21606 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:34:20.163  INFO 21606 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:34:20.163  INFO 21606 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:34:20.195  INFO 21606 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:34:20.195  INFO 21606 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 884 ms
2022-04-20 15:34:20.222  INFO 21606 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:34:20.279  INFO 21606 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:34:20.285  INFO 21606 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:34:20.371  INFO 21606 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:34:20.388  INFO 21606 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:34:20.434  INFO 21606 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:34:20.479  INFO 21606 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:34:20.815  INFO 21606 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:34:20.819  INFO 21606 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:34:21.115  WARN 21606 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:34:21.629  INFO 21606 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b23897a, org.springframework.security.web.context.SecurityContextPersistenceFilter@27f8f1cc, org.springframework.security.web.header.HeaderWriterFilter@6aa85fcf, org.springframework.security.web.authentication.logout.LogoutFilter@16eca98a, com.example.demo.jwt.CustomAuthFilter@40dd2cfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70a8654, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d6ed085, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21cb5648, org.springframework.security.web.session.SessionManagementFilter@5dfb078, org.springframework.security.web.access.ExceptionTranslationFilter@66e44f9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30a99b85]
2022-04-20 15:34:21.958  INFO 21606 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:34:22.450  INFO 21606 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.395 seconds (JVM running for 3.74)
2022-04-20 15:34:48.120  INFO 21606 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:34:48.121  INFO 21606 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:34:48.123  INFO 21606 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:37:44.948  INFO 22074 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 22074 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:37:44.950  INFO 22074 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:37:45.489  INFO 22074 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:37:45.524  INFO 22074 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 15:37:45.859  INFO 22074 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:37:45.863  INFO 22074 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:37:45.863  INFO 22074 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:37:45.894  INFO 22074 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:37:45.895  INFO 22074 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 914 ms
2022-04-20 15:37:45.922  INFO 22074 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:37:45.974  INFO 22074 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:37:45.980  INFO 22074 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:37:46.065  INFO 22074 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:37:46.084  INFO 22074 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:37:46.133  INFO 22074 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:37:46.179  INFO 22074 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:37:46.508  INFO 22074 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:37:46.511  INFO 22074 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:37:46.822  WARN 22074 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:37:47.325  INFO 22074 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31ecb361, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c90fc3b, org.springframework.security.web.header.HeaderWriterFilter@554db19d, org.springframework.security.web.authentication.logout.LogoutFilter@66450129, com.example.demo.jwt.CustomAuthFilter@3d84f113, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d21d12b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@671c71e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51d26fed, org.springframework.security.web.session.SessionManagementFilter@77da2881, org.springframework.security.web.access.ExceptionTranslationFilter@535adf36, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@551976c2]
2022-04-20 15:37:47.630  INFO 22074 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:37:48.112  INFO 22074 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.37 seconds (JVM running for 3.702)
2022-04-20 15:38:48.253  INFO 22074 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:38:48.254  INFO 22074 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:38:48.255  INFO 22074 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:38:50.949  INFO 22219 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 22219 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:38:50.951  INFO 22219 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:38:51.437  INFO 22219 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:38:51.470  INFO 22219 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
2022-04-20 15:38:51.790  INFO 22219 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:38:51.794  INFO 22219 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:38:51.794  INFO 22219 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:38:51.823  INFO 22219 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:38:51.823  INFO 22219 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 841 ms
2022-04-20 15:38:51.849  INFO 22219 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:38:51.898  INFO 22219 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:38:51.903  INFO 22219 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:38:51.983  INFO 22219 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:38:51.999  INFO 22219 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:38:52.045  INFO 22219 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:38:52.087  INFO 22219 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:38:52.414  INFO 22219 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:38:52.417  INFO 22219 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:38:52.711  WARN 22219 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:38:53.199  INFO 22219 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22cca101, org.springframework.security.web.context.SecurityContextPersistenceFilter@a3f1f32, org.springframework.security.web.header.HeaderWriterFilter@4f5d7091, org.springframework.security.web.authentication.logout.LogoutFilter@56e9126f, com.example.demo.jwt.CustomAuthFilter@1722ede1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66450129, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@119f035f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@307ba188, org.springframework.security.web.session.SessionManagementFilter@34128fed, org.springframework.security.web.access.ExceptionTranslationFilter@24347d8b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294c36b9]
2022-04-20 15:38:53.488  INFO 22219 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:38:53.979  INFO 22219 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.232 seconds (JVM running for 3.515)
2022-04-20 15:44:31.768  INFO 22219 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:44:31.769  INFO 22219 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-04-20 15:44:31.772  INFO 22219 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:44:31.773  INFO 22219 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:44:34.353  INFO 22808 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 22808 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:44:34.355  INFO 22808 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:44:34.863  INFO 22808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:44:34.897  INFO 22808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 7 JPA repository interfaces.
2022-04-20 15:44:35.237  INFO 22808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:44:35.242  INFO 22808 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:44:35.243  INFO 22808 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:44:35.282  INFO 22808 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:44:35.282  INFO 22808 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 895 ms
2022-04-20 15:44:35.309  INFO 22808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:44:35.355  INFO 22808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:44:35.360  INFO 22808 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:44:35.442  INFO 22808 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:44:35.459  INFO 22808 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:44:35.505  INFO 22808 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:44:35.546  INFO 22808 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:44:35.876  INFO 22808 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:44:35.879  INFO 22808 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:44:36.193  WARN 22808 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:44:36.686  INFO 22808 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c68c7b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fa3bebe, org.springframework.security.web.header.HeaderWriterFilter@2cc82c83, org.springframework.security.web.authentication.logout.LogoutFilter@14927cd4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c90fc3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@671c71e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1315d910, org.springframework.security.web.session.SessionManagementFilter@554db19d, org.springframework.security.web.access.ExceptionTranslationFilter@599fab92]
2022-04-20 15:44:36.997  INFO 22808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:44:37.484  INFO 22808 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.356 seconds (JVM running for 3.71)
2022-04-20 15:46:28.313  INFO 22808 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:46:28.314  INFO 22808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:46:28.316  INFO 22808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:46:31.066  INFO 23183 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 23183 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:46:31.067  INFO 23183 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:46:31.553  INFO 23183 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:46:31.587  INFO 23183 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:46:31.918  INFO 23183 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:46:31.922  INFO 23183 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:46:31.922  INFO 23183 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:46:31.953  INFO 23183 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:46:31.953  INFO 23183 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 854 ms
2022-04-20 15:46:31.980  INFO 23183 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:46:32.028  INFO 23183 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:46:32.034  INFO 23183 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:46:32.111  INFO 23183 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:46:32.127  INFO 23183 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:46:32.173  INFO 23183 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:46:32.215  INFO 23183 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:46:32.541  INFO 23183 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:46:32.544  INFO 23183 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:46:32.837  WARN 23183 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:46:33.332  INFO 23183 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7305a443, org.springframework.security.web.context.SecurityContextPersistenceFilter@18b88f7, org.springframework.security.web.header.HeaderWriterFilter@f9919a2, org.springframework.security.web.authentication.logout.LogoutFilter@7053a864, com.example.demo.jwt.CustomAuthFilter@3ed2a30c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10efb806, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14f1545c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@adbc3bc, org.springframework.security.web.session.SessionManagementFilter@7057d9f4, org.springframework.security.web.access.ExceptionTranslationFilter@31d791c0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30b0d5a7]
2022-04-20 15:46:33.631  INFO 23183 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:46:34.105  INFO 23183 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.294 seconds (JVM running for 3.606)
2022-04-20 15:47:13.541  INFO 23183 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:47:13.542  INFO 23183 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:47:13.544  INFO 23183 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:47:35.068  INFO 23356 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 23356 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:47:35.069  INFO 23356 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:47:35.560  INFO 23356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:47:35.594  INFO 23356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2022-04-20 15:47:35.936  INFO 23356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:47:35.940  INFO 23356 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:47:35.940  INFO 23356 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:47:35.968  INFO 23356 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:47:35.969  INFO 23356 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 871 ms
2022-04-20 15:47:35.993  INFO 23356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:47:36.043  INFO 23356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:47:36.049  INFO 23356 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:47:36.136  INFO 23356 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:47:36.156  INFO 23356 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:47:36.210  INFO 23356 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:47:36.253  INFO 23356 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:47:36.588  INFO 23356 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:47:36.592  INFO 23356 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:47:36.894  WARN 23356 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:47:37.286  INFO 23356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f627a1a, org.springframework.security.web.context.SecurityContextPersistenceFilter@718e700c, org.springframework.security.web.header.HeaderWriterFilter@29f86630, org.springframework.security.web.authentication.logout.LogoutFilter@4b1ad751, com.example.demo.jwt.CustomAuthFilter@655b9169, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf97875, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38dc1c50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4917992b, org.springframework.security.web.session.SessionManagementFilter@425376cc, org.springframework.security.web.access.ExceptionTranslationFilter@1a4c6e74, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d8512e9]
2022-04-20 15:47:37.611  INFO 23356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:47:38.085  INFO 23356 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.245 seconds (JVM running for 3.549)
2022-04-20 15:49:32.043  INFO 23356 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:49:32.043  INFO 23356 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:49:32.044  INFO 23356 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:49:32.143  WARN 23356 --- [http-nio-8080-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2022-04-20 15:49:55.067  INFO 23356 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:49:55.068  INFO 23356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:49:55.070  INFO 23356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:49:57.811  INFO 23539 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 23539 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:49:57.812  INFO 23539 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:49:58.281  INFO 23539 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:49:58.312  INFO 23539 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 7 JPA repository interfaces.
2022-04-20 15:49:58.642  INFO 23539 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:49:58.646  INFO 23539 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:49:58.646  INFO 23539 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:49:58.677  INFO 23539 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:49:58.677  INFO 23539 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 833 ms
2022-04-20 15:49:58.703  INFO 23539 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:49:58.752  INFO 23539 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:49:58.757  INFO 23539 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:49:58.839  INFO 23539 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:49:58.858  INFO 23539 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:49:58.911  INFO 23539 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:49:58.954  INFO 23539 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:49:59.279  INFO 23539 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:49:59.282  INFO 23539 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:49:59.584  WARN 23539 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:49:59.968  INFO 23539 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4917992b, org.springframework.security.web.context.SecurityContextPersistenceFilter@10c1682b, org.springframework.security.web.header.HeaderWriterFilter@4c51fc9a, org.springframework.security.web.authentication.logout.LogoutFilter@6da86e98, com.example.demo.jwt.CustomAuthFilter@62536882, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72fa021, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40f931ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e9d6c78, org.springframework.security.web.session.SessionManagementFilter@6b44121e, org.springframework.security.web.access.ExceptionTranslationFilter@51d6c42d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a045e85]
2022-04-20 15:50:00.284  INFO 23539 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:50:00.766  INFO 23539 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.161 seconds (JVM running for 3.477)
2022-04-20 15:51:24.412  INFO 23539 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:51:24.413  INFO 23539 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:51:24.414  INFO 23539 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:51:26.246  INFO 23797 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 23797 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:51:26.248  INFO 23797 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:51:26.800  INFO 23797 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:51:26.836  INFO 23797 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
2022-04-20 15:51:27.167  INFO 23797 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:51:27.171  INFO 23797 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:51:27.172  INFO 23797 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:51:27.205  INFO 23797 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:51:27.205  INFO 23797 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 908 ms
2022-04-20 15:51:27.231  INFO 23797 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:51:27.278  INFO 23797 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:51:27.283  INFO 23797 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:51:27.371  INFO 23797 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:51:27.390  INFO 23797 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:51:27.439  INFO 23797 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:51:27.479  INFO 23797 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:51:27.812  INFO 23797 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:51:27.816  INFO 23797 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:51:28.158  WARN 23797 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:51:28.572  INFO 23797 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4917992b, org.springframework.security.web.context.SecurityContextPersistenceFilter@10c1682b, org.springframework.security.web.header.HeaderWriterFilter@4c51fc9a, org.springframework.security.web.authentication.logout.LogoutFilter@6da86e98, com.example.demo.jwt.CustomAuthFilter@62536882, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72fa021, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40f931ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e9d6c78, org.springframework.security.web.session.SessionManagementFilter@6b44121e, org.springframework.security.web.access.ExceptionTranslationFilter@51d6c42d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a045e85]
2022-04-20 15:51:28.903  INFO 23797 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:51:29.377  INFO 23797 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.439 seconds (JVM running for 3.863)
2022-04-20 15:51:32.179  INFO 23797 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:51:32.179  INFO 23797 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:51:32.180  INFO 23797 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 15:52:02.419  INFO 23797 --- [http-nio-8080-exec-3] c.e.d.service.imp.PlaylistServiceImpl    : Retrieving a list of all playlists...
2022-04-20 15:57:00.092  INFO 23797 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:57:00.096  INFO 23797 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 15:57:00.101  INFO 23797 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-20 15:57:03.623  INFO 24268 --- [main] c.e.demo.TehnickiZadatakApplication      : Starting TehnickiZadatakApplication using Java 17.0.2 on nebojsa-HP-ProBook-450-G8-Notebook-PC with PID 24268 (/home/nebojsa/IdeaProjects/poslovnizadatak/target/classes started by nebojsa in /home/nebojsa/IdeaProjects/poslovnizadatak)
2022-04-20 15:57:03.625  INFO 24268 --- [main] c.e.demo.TehnickiZadatakApplication      : The following profiles are active: prod
2022-04-20 15:57:04.203  INFO 24268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-20 15:57:04.239  INFO 24268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
2022-04-20 15:57:04.623  INFO 24268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-04-20 15:57:04.628  INFO 24268 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-20 15:57:04.628  INFO 24268 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-04-20 15:57:04.662  INFO 24268 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-20 15:57:04.662  INFO 24268 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 997 ms
2022-04-20 15:57:04.692  INFO 24268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-20 15:57:04.748  INFO 24268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-20 15:57:04.755  INFO 24268 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:zadatakdb'
2022-04-20 15:57:04.852  INFO 24268 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-20 15:57:04.872  INFO 24268 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final
2022-04-20 15:57:04.925  INFO 24268 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-20 15:57:04.972  INFO 24268 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-04-20 15:57:05.338  INFO 24268 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-20 15:57:05.342  INFO 24268 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 15:57:05.681  WARN 24268 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-20 15:57:06.159  INFO 24268 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4619854a, org.springframework.security.web.context.SecurityContextPersistenceFilter@28705150, org.springframework.security.web.header.HeaderWriterFilter@85fd4b, org.springframework.security.web.authentication.logout.LogoutFilter@3cd758be, com.example.demo.jwt.CustomAuthFilter@c040c8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@718e700c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7be9e9fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3453f79c, org.springframework.security.web.session.SessionManagementFilter@29f86630, org.springframework.security.web.access.ExceptionTranslationFilter@514c6ca0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b8601a1]
2022-04-20 15:57:06.533  INFO 24268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-04-20 15:57:07.098  INFO 24268 --- [main] c.e.demo.TehnickiZadatakApplication      : Started TehnickiZadatakApplication in 3.733 seconds (JVM running for 4.147)
2022-04-20 15:57:14.019  INFO 24268 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-20 15:57:14.019  INFO 24268 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-20 15:57:14.020  INFO 24268 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-20 16:07:24.284  INFO 24268 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-20 16:07:24.285  INFO 24268 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-20 16:07:24.287  INFO 24268 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
